# Postfix mail server

These config are inted for:
- Postifix (MTA server)
- Dovecot (SMTP auth and IMAP/POP3 sync)
- Spamassassin (Spam filter)
- Procmail (mail organizer)

Server specification:
- single domain
- open relay (server accept all ips and can send to every domains)
- forced STARTLS (inbound and outbound)
- account autentication for send and recive mail
- IMAP TLS sync
- Basic spam filter with baysian plugin

Misc:
- you can use "new-mail-user" to simple configure a new mail account
- you can schedule "update-spamassassin" for an automatic spam rule update-spamassassin

Mandatory DNS config
- create a record A (host mx) point to your public ip 
- create a MX record (@) pointing the A record created above (es. mx.yourdomain.it)

Optional DNS config (to avoid your mail t be marked as spam)
- create a TXT record (@) with "v=spf1 a mx ip4:X.X.X.X -all" (without quotes, replace X.X.X.X with your ip)
- create a TXT record (_dmarc.ziviani.info) with "v=DMARC1; p=reject; adkim=s; aspf=s; sp=reject;" (without quotes)
- create a TXT record (_default._domainkey) with "v=DKIM1; k=rsa; s=email; p=XXX" (without quotes, replace XXX with the RSA key generated by opendkim)
- ask your ISP to add / edit PTR record (reverse DNS or rDNS) to the main record A of server (es. mx.yourdomain.it)